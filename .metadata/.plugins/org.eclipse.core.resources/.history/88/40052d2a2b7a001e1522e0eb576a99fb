/** ******************************************************************************
@brief	Pingpong, functions for pingpong-program
@file	pingpong_functions.c
@author	Thomas Gustafsson
@version 1.0
@date 13-Nov-2023
@brief Functions and structures for program Pingpong ******************************************************************************
*/

#include "Test.h"
#include "Pingpong.h"
#include "gpio.h"
/**
@brief Led_on, turn one of the pingpong leds on
@param uint8_t Lednr , number to the Led that is turned on Lednr can be 1-8, all other values turns all leds off
@return void
*/
void Led_on(uint8_t Lednr) {
    // Define arrays to store GPIO ports and pins for each LED
    GPIO_TypeDef* LED_GPIO_Port[] = {LED1_GPIO_Port, LED2_GPIO_Port, LED3_GPIO_Port, LED4_GPIO_Port, LED5_GPIO_Port, LED6_GPIO_Port, LED7_GPIO_Port, LED8_GPIO_Port};
    uint16_t LED_Pin[] = {LED1_Pin, LED2_Pin, LED3_Pin, LED4_Pin, LED5_Pin, LED6_Pin, LED7_Pin, LED8_Pin};

    if (Lednr >= 1 && Lednr <= 8) {
        // Turn on the selected LED
        HAL_GPIO_WritePin(LED_GPIO_Port[Lednr - 1], LED_Pin[Lednr - 1], GPIO_PIN_SET);
    } else {
        // Turn off all LEDs
        for (int i = 0; i < 8; i++) {
            HAL_GPIO_WritePin(LED_GPIO_Port[i], LED_Pin[i], GPIO_PIN_RESET);
        }
    }
    return;
}


/** ******************************************************************************
@brief	Pingpong, functions for pingpong-program
@file	pingpong_functions.c
@author	Thomas Gustafsson
@version 1.0
@date 13-Nov-2023
@brief Functions and structures for program Pingpong ******************************************************************************
*/

#include "Test.h"
#include "Pingpong.h"
#include "gpio.h"
/**
@brief Led_on, turn one of the pingpong leds on
@param uint8_t Lednr , number to the Led that is turned on Lednr can be 1-8, all other values turns all leds off
@return void
*/
void Led_on(uint8_t Lednr) {
    GPIO_TypeDef* led_ports[] = {LED1_GPIO_Port, LED2_GPIO_Port, LED3_GPIO_Port, LED4_GPIO_Port, LED5_GPIO_Port, LED6_GPIO_Port, LED7_GPIO_Port, LED8_GPIO_Port};
    uint16_t led_pins[] = {LED1_Pin, LED2_Pin, LED3_Pin, LED4_Pin, LED5_Pin, LED6_Pin, LED7_Pin, LED8_Pin};

    if (Lednr >= 1 && Lednr <= 8) {
        for (uint8_t i = 0; i < 8; i++) {
            HAL_GPIO_WritePin(led_ports[i], led_pins[i], (i == (Lednr - 1)) ? GPIO_PIN_SET : GPIO_PIN_RESET);
        }
    }
    return;
}
